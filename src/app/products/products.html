<body>
  <section id="product">
    <div class="container">
      <div class="row g-3">
        @for (product of productList; track $index) {
        <div class="col-md-3">
          <div (click)="ProductDetails = product" class="card text-start w-100">
            <img
              class="card-img-top w-100"
              [src]="product.imageCover"
              alt=" {{ product.title }}"
              data-bs-toggle="modal"
              data-bs-target="#exampleModal"
            />
            <div class="card-body text-center">
              <h4 class="card-title">
                {{ product.title.split(" ", 2).join(" ") }}
              </h4>
              <!-- هنا استخدمنا if عشان نتاكد لو ترو يخليها اخضر والعكس -->
              <h4 class="card-text">
                price : <b>{{ product.price }}$</b>
              </h4>
              <div
                class="d-flex justify-content-around align-items-center py-3"
              >
                <button class="btn btn-primary w-50">Add to cart</button>
                <i class="fa-solid fa-heart icon"></i>
              </div>
            </div>
          </div>
        </div>
        }
      </div>
    </div>
  </section>

  <!-- Modal -->
  <div
    class="modal fade"
    id="exampleModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">
            Product Details
          </h1>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <img
            class="card-img-top w-100"
            [src]="ProductDetails.imageCover"
            [alt]="ProductDetails.title"
          />
          @if (ProductDetails.onSale === true) {
          <h5 class="card-text">
            onSale : <b class="text-success">{{ ProductDetails.onSale }}</b>
          </h5>
          }@else {
          <h5 class="card-text">
            onSale : <b class="text-danger">{{ ProductDetails.onSale }}</b>
          </h5>
          }
          <h5 class="card-text">quantity : {{ ProductDetails.quantity }}</h5>
          <p class="card-text">
            description :
            {{ ProductDetails.description }}
          </p>
          <div class="row">
            @for (imgSrc of ProductDetails.images ; track $index) {
            <div class="col-md-3">
              <img [src]="imgSrc" class="w-100" alt="" />
            </div>
            }
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
</body>
